<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>genzscam Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg1: #1a002b;
      --bg2: #3a0077;
      --accent1: #ff5af0;
      --accent2: #00f5ff;
      --accent3: #ffe45e;
      --text-light: #fdfdfd;
      --text-muted: #c9c9d5;
      --danger: #ff4b6a;
      --success: #52ff8f;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top left, var(--bg2), var(--bg1));
      color: var(--text-light);
      overflow-x: hidden;
      position: relative;
    }

    /* Background animated gradient blobs */
    .blob {
      position: fixed;
      width: 400px;
      height: 400px;
      border-radius: 50%;
      filter: blur(80px);
      opacity: 0.6;
      z-index: -1;
      animation: float 18s infinite alternate ease-in-out;
    }

    .blob-1 {
      background: var(--accent1);
      top: -100px;
      left: -50px;
    }
    .blob-2 {
      background: var(--accent2);
      bottom: -150px;
      right: -80px;
      animation-duration: 22s;
    }
    .blob-3 {
      background: var(--accent3);
      top: 40%;
      left: 50%;
      transform: translateX(-50%);
      animation-duration: 26s;
    }

    @keyframes float {
      0% {
        transform: translate(0, 0) scale(1);
      }
      100% {
        transform: translate(40px, -40px) scale(1.1);
      }
    }

    /* Click ripple effect */
    .click-ripple {
      position: fixed;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      pointer-events: none;
      background: radial-gradient(circle, #ffffffaa, transparent);
      transform: translate(-50%, -50%);
      animation: ripple 0.6s ease-out forwards;
      z-index: 9999;
    }

    @keyframes ripple {
      0% {
        opacity: 0.7;
        transform: translate(-50%, -50%) scale(0.1);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(6);
      }
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(16px);
      background: linear-gradient(
        to right,
        #0a0215dd,
        #180226dd,
        #0a0215dd
      );
      border-bottom: 1px solid #ffffff33;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .logo-icon {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: conic-gradient(
        from 180deg,
        var(--accent1),
        var(--accent2),
        var(--accent3),
        var(--accent1)
      );
      animation: spin 6s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .logo-text {
      font-weight: 800;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 0.9rem;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .pill {
      padding: 0.4rem 0.8rem;
      border-radius: 999px;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      border: 1px solid #ffffff33;
      background: #ffffff10;
      backdrop-filter: blur(10px);
    }

    .ig-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 34px;
      height: 34px;
      border-radius: 999px;
      border: 1px solid #ffffff55;
      background: radial-gradient(circle at 30% 30%, #ffdf6b, #ff0069, #7f00ff);
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease,
        filter 0.2s ease;
      box-shadow: 0 0 12px #ff5af066;
    }

    .ig-button:hover {
      transform: translateY(-1px) scale(1.05);
      box-shadow: 0 0 18px #ff5af0aa;
      filter: brightness(1.1);
    }

    .ig-icon {
      width: 18px;
      height: 18px;
      border-radius: 4px;
      border: 2px solid #fff;
      position: relative;
    }
    .ig-icon::before {
      content: "";
      position: absolute;
      inset: 4px;
      border-radius: 50%;
      border: 2px solid #fff;
    }
    .ig-icon::after {
      content: "";
      position: absolute;
      top: 3px;
      right: 3px;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: #fff;
    }

    main {
      padding: 2rem 1.5rem 3rem;
      max-width: 960px;
      margin: 0 auto;
    }

    section {
      display: none;
      animation: fadeInUp 0.4s ease-out;
    }

    section.active {
      display: block;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hero {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .hero-title {
      font-size: clamp(2.1rem, 4vw, 2.8rem);
      font-weight: 800;
      line-height: 1.1;
    }

    .gradient-text {
      background: linear-gradient(120deg, var(--accent1), var(--accent2));
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      color: var(--text-muted);
      max-width: 32rem;
      font-size: 0.95rem;
    }

    .tags-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .tag {
      font-size: 0.75rem;
      padding: 0.3rem 0.7rem;
      border-radius: 999px;
      border: 1px solid #ffffff33;
      background: #0f021ede;
    }

    .card {
      border-radius: 20px;
      padding: 1.2rem 1.4rem;
      background: radial-gradient(
        circle at top left,
        #ffffff10,
        #0c0018dd
      );
      border: 1px solid #ffffff22;
      box-shadow: 0 18px 45px #00000080;
      backdrop-filter: blur(18px);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: conic-gradient(
        from 220deg,
        transparent 0 30%,
        #ffffff22,
        transparent 60% 100%
      );
      opacity: 0;
      transition: opacity 0.25s ease;
    }

    .card:hover::before {
      opacity: 1;
    }

    .product-card {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2fr);
      gap: 1.5rem;
      align-items: center;
      cursor: pointer;
    }

    @media (max-width: 720px) {
      .product-card {
        grid-template-columns: 1fr;
      }
    }

    .product-media {
      position: relative;
      height: 200px;
      border-radius: 18px;
      overflow: hidden;
      background: radial-gradient(circle at top, #ff5af022, #00f5ff11);
      display: flex;
      align-items: center;
      justify-content: center;
      animation: floatCard 4s ease-in-out infinite alternate;
    }

    @keyframes floatCard {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-6px);
      }
    }

    .product-blob {
      position: absolute;
      width: 260px;
      height: 260px;
      border-radius: 50%;
      background: conic-gradient(
        from 160deg,
        var(--accent1),
        var(--accent2),
        var(--accent3),
        var(--accent1)
      );
      filter: blur(18px);
      opacity: 0.9;
      animation: spin 24s linear infinite;
    }

    .product-name-big {
      position: relative;
      font-size: 1.6rem;
      font-weight: 800;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      z-index: 1;
      text-align: center;
    }

    .badge-corner {
      position: absolute;
      top: 10px;
      left: 10px;
      padding: 0.2rem 0.6rem;
      border-radius: 999px;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      background: #000000aa;
      border: 1px solid #ffffff55;
    }

    .product-info h2 {
      font-size: 1.4rem;
      margin-bottom: 0.3rem;
    }

    .rating-row {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      margin-bottom: 0.5rem;
    }

    .stars {
      display: flex;
      gap: 2px;
      font-size: 1.1rem;
    }

    .star {
      filter: drop-shadow(0 0 3px #ffdd5588);
    }

    .rating-score {
      font-size: 0.9rem;
    }

    .rating-count {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .fake-bar-row {
      margin-top: 0.4rem;
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .fake-bar-line {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .fake-bar {
      flex: 1;
      height: 5px;
      border-radius: 999px;
      background: #ffffff22;
      overflow: hidden;
    }

    .fake-bar-fill {
      height: 100%;
      border-radius: inherit;
      background: linear-gradient(90deg, var(--accent2), var(--accent1));
    }

    .product-desc {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin: 0.6rem 0 0.8rem;
    }

    .primary-btn {
      padding: 0.7rem 1.2rem;
      border-radius: 999px;
      border: none;
      outline: none;
      background: linear-gradient(120deg, var(--accent1), var(--accent2));
      color: #0a0215;
      font-weight: 700;
      font-size: 0.9rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      box-shadow: 0 0 20px #ff5af088;
      transition: transform 0.12s ease, box-shadow 0.12s ease,
        filter 0.12s ease;
    }

    .primary-btn:disabled {
      opacity: 0.35;
      cursor: not-allowed;
      box-shadow: none;
    }

    .primary-btn:not(:disabled):hover {
      transform: translateY(-1px) scale(1.02);
      box-shadow: 0 0 26px #ff5af0aa;
      filter: brightness(1.05);
    }

    .secondary-link {
      background: transparent;
      border: none;
      font-size: 0.8rem;
      color: var(--text-muted);
      text-decoration: underline;
      cursor: pointer;
      margin-left: 0.6rem;
    }

    .section-title {
      font-size: 1.3rem;
      margin-bottom: 0.4rem;
    }

    .section-sub {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 1rem;
    }

    .options-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 0.8rem;
    }

    .option-card {
      border-radius: 16px;
      padding: 0.9rem;
      background: #120225ef;
      border: 1px solid #ffffff33;
      cursor: pointer;
      position: relative;
      transition: transform 0.12s ease, box-shadow 0.12s ease,
        border-color 0.12s ease, background 0.12s ease;
    }

    .option-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px #000000aa;
    }

    .option-card.selected {
      border-color: var(--accent2);
      box-shadow: 0 0 20px #00f5ff88;
      background: radial-gradient(circle at top, #00f5ff22, #120225ef);
    }

    .option-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.2rem;
    }

    .option-price {
      font-size: 0.9rem;
      color: var(--accent3);
      margin-bottom: 0.5rem;
    }

    .option-label {
      font-size: 0.75rem;
      padding: 0.15rem 0.5rem;
      border-radius: 999px;
      border: 1px solid #ffffff55;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
    }

    .label-bestseller {
      border-color: var(--accent3);
      color: var(--accent3);
    }

    .label-soldout {
      border-color: var(--danger);
      color: var(--danger);
    }

    .option-card.sold-out {
      opacity: 0.4;
      cursor: not-allowed;
      box-shadow: none;
      transform: none;
    }

    .option-card.sold-out:hover {
      transform: none;
      box-shadow: none;
    }

    .options-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 1rem;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .chosen-label {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .chosen-label span {
      color: var(--accent2);
      font-weight: 600;
    }

    .field-group {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
      margin-bottom: 1rem;
    }

    label {
      font-size: 0.85rem;
    }

    input[type="email"] {
      padding: 0.55rem 0.75rem;
      border-radius: 999px;
      border: 1px solid #ffffff33;
      background: #070011dd;
      color: var(--text-light);
      outline: none;
      font-size: 0.9rem;
      transition: border-color 0.1s ease, box-shadow 0.1s ease;
    }

    input[type="email"]:focus {
      border-color: var(--accent2);
      box-shadow: 0 0 0 1px #00f5ff66;
    }

    .help-text {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .price-summary {
      margin: 0.8rem 0;
      font-size: 0.9rem;
    }

    .price-summary span {
      font-weight: 600;
      color: var(--accent3);
    }

    .btc-amount {
      color: var(--accent2);
      font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
        Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.85rem;
    }

    .alert-box {
      margin-top: 0.6rem;
      font-size: 0.8rem;
      padding: 0.6rem 0.7rem;
      border-radius: 12px;
      background: #2b0215dd;
      border: 1px dashed #ffffff55;
    }

    .alert-strong {
      color: var(--danger);
      font-weight: 600;
    }

    .timer-text {
      color: var(--accent1);
      font-weight: 600;
    }

    .note {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 0.4rem;
    }

    .centered {
      text-align: center;
    }

    .big-emoji {
      font-size: 2.4rem;
      margin-bottom: 0.4rem;
    }
  </style>
</head>
<body>
  <!-- Animated gradient blobs -->
  <div class="blob blob-1"></div>
  <div class="blob blob-2"></div>
  <div class="blob blob-3"></div>

  <header>
    <div class="logo">
      <div class="logo-icon"></div>
      <div class="logo-text">genzscam</div>
    </div>

    <div class="header-actions">
      <div class="pill">lost eurobills</div>
      <!-- Instagram button -->
      <button
        class="ig-button"
        onclick="window.open('https://www.instagram.com/genzscam?igsh=dzZnY2FhZHEyZnA%3D&utm_source=qr', '_blank')"
        title="Open Instagram"
      >
        <div class="ig-icon"></div>
      </button>
    </div>
  </header>

  <main>
    <!-- PAGE 1: Product overview -->
    <section id="page-home" class="active">
      <div class="hero">
        <h1 class="hero-title">
          Colorful chaos, <span class="gradient-text">best quality.</span>
        </h1>
        <p class="hero-subtitle">
          This is a <strong>EUR Bill Store</strong>
        </p>
        <div class="tags-row">
          <span class="tag">Single Product</span>
          <span class="tag">Ratings</span>
          <span class="tag">Animated UI</span>
          <span class="tag">BTC Price Preview</span>
        </div>
      </div>

      <div class="card product-card" onclick="goToOptions()">
        <div class="product-media">
          <div class="product-blob"></div>
          <div class="badge-corner">Eur Bills</div>
          <div class="product-name-big">EURO</div>
        </div>
        <div class="product-info">
          <h2>EUR BILLS</h2>
          <div class="rating-row">
            <div class="stars">
              <span class="star">‚≠ê</span>
              <span class="star">‚≠ê</span>
              <span class="star">‚≠ê</span>
              <span class="star">‚≠ê</span>
              <span class="star" style="opacity: 0.4;">‚≠ê</span>
            </div>
            <div class="rating-score">4.7 / 5.0</div>
            <div class="rating-count">(132 ratings)</div>
          </div>
          <div class="fake-bar-row">
            <div class="fake-bar-line">
              <span>5‚òÖ</span>
              <div class="fake-bar"><div class="fake-bar-fill" style="width: 68%;"></div></div>
            </div>
            <div class="fake-bar-line">
              <span>4‚òÖ</span>
              <div class="fake-bar"><div class="fake-bar-fill" style="width: 22%;"></div></div>
            </div>
            <div class="fake-bar-line">
              <span>3‚òÖ</span>
              <div class="fake-bar"><div class="fake-bar-fill" style="width: 7%;"></div></div>
            </div>
            <div class="fake-bar-line">
              <span>2‚òÖ</span>
              <div class="fake-bar"><div class="fake-bar-fill" style="width: 2%;"></div></div>
            </div>
            <div class="fake-bar-line">
              <span>1‚òÖ</span>
              <div class="fake-bar"><div class="fake-bar-fill" style="width: 1%;"></div></div>
            </div>
          </div>

          <p class="product-desc">
            Choose from several Euro Bill options to get your Stack today.
            No lost Packages, just raw Wins. Click anywhere on this card to
            continue.
          </p>

          <button class="primary-btn" type="button" onclick="goToOptions(event)">
            Choose options
            <span>‚ûú</span>
          </button>
          <button
            class="secondary-link"
            type="button"
            onclick="goToOptions(event)"
          >
            View EUR Bills
          </button>
        </div>
      </div>
    </section>

    <!-- PAGE 2: Product options -->
    <section id="page-options">
      <div class="card">
        <h2 class="section-title">Choose your Package!</h2>
        <p class="section-sub">
          Select exactly one option to unlock the <strong>Buy</strong> button.
          One option is sold out, and one is tagged as bestseller.
        </p>

        <div class="options-grid" id="options-grid">
          <!-- Options will be injected by JS -->
        </div>

        <div class="options-footer">
          <div class="chosen-label" id="chosen-label">
            No option selected yet.
          </div>
          <div>
            <button
              class="primary-btn"
              type="button"
              id="buy-button"
              disabled
              onclick="goToCheckout()"
            >
              Buy
              <span>üí∏</span>
            </button>
            <button
              type="button"
              class="secondary-link"
              onclick="showPage('page-home')"
            >
              ‚Üê Back to product
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- PAGE 3: Checkout -->
    <section id="page-checkout">
      <div class="card">
        <h2 class="section-title">Checkout</h2>
        <p class="section-sub">
          Enter your email and review the payment details. A correct email
          is required to complete the order after payment.
        </p>

        <div class="field-group">
          <label for="email">Email address</label>
          <input
            type="email"
            id="email"
            placeholder="you@example.com"
            required
          />
          <div class="help-text">
            Please use a correct email so the order information can reach
            you after payment.
          </div>
        </div>

        <div class="price-summary">
          Selected product price:
          <span id="summary-price">‚Äì ‚Ç¨</span>
          &nbsp;‚Ä¢&nbsp;
          <span class="btc-amount" id="summary-btc">~ 0.000000 BTC</span>
        </div>

        <div class="alert-box">
          <div>
            Please pay the exact amount in Bitcoin to this BTC address
            within <span class="timer-text">30 minutes</span>:
          </div>
          <div class="btc-amount" style="margin-top: 0.3rem;">
            <strong>BTC Address:</strong> <span id="btc-address">bc1qaxmgjg2nhlqyr5tyqzqglmr48tshwa0j9vz8hz</span>
          </div>
          <div class="note">
             Always double-check details in payments
            .
          </div>
        </div>

        <div class="note">
          <strong>Note:</strong> Only click
          <strong>"Complete Order"</strong> if the correct amount has been paid.
        </div>

        <div style="margin-top: 1.1rem; display: flex; gap: 0.6rem; align-items:center; flex-wrap:wrap;">
          <button
            class="primary-btn"
            type="button"
            onclick="completeOrder()"
          >
            Complete Order
            <span>‚úÖ</span>
          </button>
          <button
            type="button"
            class="secondary-link"
            onclick="showPage('page-options')"
          >
            ‚Üê Back to options
          </button>
        </div>
      </div>
    </section>

    <!-- PAGE 4: Thank you -->
    <section id="page-thankyou">
      <div class="card centered">
        <div class="big-emoji">üéâ</div>
        <h2 class="section-title">Thank you for your order!</h2>
        <p class="section-sub">
          Your order will be reviewed, and the email you provided will be
          notified within <strong>24 Hours</strong>.
        </p>
        <p class="note">
          You can safely refresh the page or go back to the product view to get to the
          Main Page again.
        </p>
        <div style="margin-top: 1.3rem;">
          <button
            class="primary-btn"
            type="button"
            onclick="restartFlow()"
          >
            Back to start
            <span>üîÅ</span>
          </button>
        </div>
      </div>
    </section>
  </main>

  <script>
    // ----- Global state -----
    const productOptions = [
      {
        id: "opt-20",
        label: "100x 20‚Ç¨ Bills (2.000‚Ç¨)",
        price: 100,
        soldOut: true,
        bestseller: false,
      },
      {
        id: "opt-50",
        label: "100x 50‚Ç¨ Bills (5.000‚Ç¨)",
        price: 200,
        soldOut: false,
        bestseller: false,
      },
      {
        id: "opt-100",
        label: "100x 100‚Ç¨ Bills (10.000‚Ç¨)",
        price: 350,
        soldOut: false,
        bestseller: false,
      },
      {
        id: "opt-200",
        label: "100x 200‚Ç¨ Bills (20.000‚Ç¨)",
        price: 500,
        soldOut: false,
        bestseller: true,
      },
    ];

    let selectedOptionId = null;
    let btcRate = null; // EUR per 1 BTC

    // ----- Utility: show / hide pages -----
    function showPage(id) {
      document.querySelectorAll("main section").forEach((sec) => {
        sec.classList.remove("active");
      });
      document.getElementById(id).classList.add("active");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function goToOptions(event) {
      if (event) event.stopPropagation();
      showPage("page-options");
    }

    function goToCheckout() {
  // Sicherheitsfallback: wenn nichts ausgew√§hlt ist, nimm den Bestseller
  if (!selectedOptionId) {
    selectedOptionId = "opt-200"; // 100x 200‚Ç¨ (Bestseller)
  }

  updateCheckoutSummary();
  showPage("page-checkout");
}

    function completeOrder() {
      const emailInput = document.getElementById("email");
      if (!emailInput.value) {
        alert("Please enter a valid email address for this order.");
        emailInput.focus();
        return;
      }
      showPage("page-thankyou");
    }

    function restartFlow() {
      selectedOptionId = null;
      document.getElementById("email").value = "";
      renderOptions();
      updateChosenLabel();
      document.getElementById("buy-button").disabled = true;
      showPage("page-home");
    }

    // ----- Render product options -----
    function renderOptions() {
      const grid = document.getElementById("options-grid");
      grid.innerHTML = "";
      productOptions.forEach((opt) => {
        const card = document.createElement("div");
        card.className = "option-card";
        if (opt.soldOut) card.classList.add("sold-out");
        if (opt.id === selectedOptionId) card.classList.add("selected");

        const title = document.createElement("div");
        title.className = "option-title";
        title.textContent = opt.label;

        const price = document.createElement("div");
        price.className = "option-price";
        price.textContent = opt.price + " ‚Ç¨";

        const label = document.createElement("div");
        label.className = "option-label";
        if (opt.soldOut) {
          label.classList.add("label-soldout");
          label.textContent = "Sold out";
        } else if (opt.bestseller) {
          label.classList.add("label-bestseller");
          label.innerHTML = "Bestseller ‚ú®";
        } else {
          label.textContent = "Available";
        }

        card.appendChild(title);
        card.appendChild(price);
        card.appendChild(label);

        if (!opt.soldOut) {
          card.addEventListener("click", () => {
            selectedOptionId = opt.id;
            renderOptions();
            updateChosenLabel();
            document.getElementById("buy-button").disabled = false;
          });
        }

        grid.appendChild(card);
      });
    }

    function updateChosenLabel() {
      const labelEl = document.getElementById("chosen-label");
      if (!selectedOptionId) {
        labelEl.textContent = "No option selected yet.";
        return;
      }
      const opt = productOptions.find((o) => o.id === selectedOptionId);
      labelEl.innerHTML =
        'Selected: <span>' + opt.label + " (" + opt.price + " ‚Ç¨)</span>";
    }

    function getSelectedOption() {
      if (!selectedOptionId) return null;
      return productOptions.find((o) => o.id === selectedOptionId) || null;
    }

    // ----- BTC price handling -----
    async function fetchBtcRate() {
      try {
        const res = await fetch(
          "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=eur"
        );
        const data = await res.json();
        if (data.bitcoin && data.bitcoin.eur) {
          btcRate = data.bitcoin.eur; // EUR per BTC
          updateCheckoutSummary();
        }
      } catch (e) {
        console.warn("Failed to fetch BTC rate :", e);
      }
    }

    function updateCheckoutSummary() {
      const opt = getSelectedOption();
      if (!opt) return;
      const priceEl = document.getElementById("summary-price");
      const btcEl = document.getElementById("summary-btc");
      priceEl.textContent = opt.price.toFixed(2) + " ‚Ç¨";

      let btcText = "~ fetching‚Ä¶ BTC";
      if (btcRate) {
        const btcAmount = opt.price / btcRate;
        btcText = "~ " + btcAmount.toFixed(6) + " BTC";
      }
      btcEl.textContent = btcText;
    }

    // ----- Click ripple animations -----
    document.addEventListener("click", (e) => {
      const ripple = document.createElement("div");
      ripple.className = "click-ripple";
      ripple.style.left = e.clientX + "px";
      ripple.style.top = e.clientY + "px";
      document.body.appendChild(ripple);
      setTimeout(() => {
        ripple.remove();
      }, 600);
    });

    // ----- Init -----
    renderOptions();
    updateChosenLabel();
    fetchBtcRate(); // get initial BTC rate
  </script>
</body>
</html>